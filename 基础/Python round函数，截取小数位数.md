# Python round函数，截取小数位数

> 在很多场景的计算中，最终得到的数值例如123.45678，要截取2位小数得到123.45，而不是默认的四舍五入方法得到123.46，如何实现呢？

## `round()`

```python
round(number[, ndigits])
```

描述：
返回 number 舍入到小数点后 ndigits 位精度的值。 如果 ndigits 被省略或为 None，则返回最接近输入值的整数。

**当指定取舍的小数点位数的时候，一般情况也是使用四舍五入的规则，但是碰到.5的这样情况，如果要取舍的位数前的小树是奇数，则直接舍弃，如果偶数这向上取舍。**

## 小数点后取2位（四舍五入）的方法

### 方法一：round（）函数

```python
a = 1.23456
b = 2.355
c = 3.5
d = 2.5
print(round(a, 3))
print(round(b, 2))
print(round(c))
print(round(d))


1.235	# 1.23456最终向前进位了
2.35	# 2.355居然没进位
4		# 最终3.5居然变为4了
2		# 最终2.5取值变为2
```

> - （1）通过上面的函数，看着是不是很晕，感觉round（x,n）函数是否进位也没看出是啥规律
> - （2）round（x,n）函数中，是否进位或四舍五入，取决于n位以及n+1位小数的值
> - （3）只有当n+1位数字是5的时候，容易混淆，如果n为偶数，则n+1位数是5，则进位，例如round（1.23456，3）最终变为1.235
> - （4）如果n为奇数，则n+1位是数5，那不进位，例如round（2.355，2），最终为2.35
> - （5）如果n为0，即没有填写n的时候，最终结果与上面相反，即整数部分为偶数的时候，小数位5不进位，例如（round（2.5）变为2）。
> - （6）整数部分为奇数的时候，小数位5进位。（round（3.5）变为4）
>   

### 方法二：’%.2f’ %f 方法

```python
f = 1.23456

print('%.4f' % f)
print('%.3f' % f)
print('%.2f' % f)


1.2346
1.235
1.23

```

> - （1）原本以为：这个方法是最常规的方法，方便实用，居家旅行必备！
> - （2）但是…

```
f = 0.625
print('%.2f' % f)

# 结果：0.62

```

### 方法三：Decimal（）函数

```python
from decimal import Decimal

aa = Decimal('5.026').quantize(Decimal('0.00'))
bb = Decimal('3.555').quantize(Decimal('0.00'))
cc = Decimal('3.545').quantize(Decimal('0.00'))

print(aa)
print(bb)
print(cc)


5.03
3.56
3.54

```

## 小数点后取2位（四舍五不入）的方法

> 通过计算的途径，很难将最终结果截取2位，我们直接想到的就是如果是字符串，直接截取就可以了。
> 例如

```python
num = '1234567'		#字符串num
print(num[:3])

结果：
123

```

如果是123.456取2位小数（截取2位小数），值需要把小数点右边的当做字符串截取即可
`partition()` 函数（将字符串根据字符串切割）：

```python
num = '123.4567'
num_str = num.partition(".")
print(num_str)

结果：
('123', '.', '4567')   # 三个元素的元祖

```

