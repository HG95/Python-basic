# Python open() 函数

`open()`

打开一个文件

```python
open(file[, mode[, buffering[, encoding[, errors[, newline[, closefd=True]]]]]])
```

参数说明：

- `file`：              要打开的文件名，需加路径(除非是在当前目录)。唯一强制参数
- `mode`：         文件打开的模式
- `buffering`：    设置buffer（取值为0,1,>1）
- `encoding`：   返回数据的编码（一般为UTF8或GBK）
- `errors`：         报错级别（一般为strict，ignore）
- `newline`：      用于区分换行符(只对文本模式有效，可以取的值有None,'\n','\r','','\r\n')
- `closefd`：       传入的file参数类型（缺省为True）


常用的是`file`，`mode`和`encoding`这三个参数

mode：文件打开的模式。有如下几种模式

- 'r'： 以只读模式打开（缺省模式）（必须保证文件存在）
- 'w'：以只写模式打开。若文件存在，则会自动清空文件，然后重新创建；若文件不存在，则新建文件。使用这个模式必须要保证文件所在目录存在，文件可以不存在。该模式下不能使用read*()方法
  *
- *'a'：以追加模式打开。若文件存在，则会追加到文件的末尾；若文件不存在，则新建文件。该模式不能使用read*()方法。

下面四个模式要和上面的模式组合使用

- 'b'：以二进制模式打开
- 't'： 以文本模式打开（缺省模式）
- '+'：以读写模式打开
- 'U'：以通用换行符模式打开
  

常见的mode组合

- 'r'或'rt'：     默认模式，文本读模式
- 'w'或'wt'：  以文本写模式打开（打开前文件会被清空）
- 'rb'：          以二进制读模式打开
- 'ab'：         以二进制追加模式打开
- 'wb'：        以二进制写模式打开（打开前文件会被清空）
- 'r+'：         以文本读写模式打开，可以写到文件任何位置；默认写的指针开始指在文件开头, 因此会覆写文件
- 'w+'：        以文本读写模式打开（打开前文件会被清空）。可以使用read()
- *'a+'：        以文本读写模式打开（写只能写在文件末尾）。可以使用read*()
- 'rb+'：       以二进制读写模式打开
- 'wb+'：     以二进制读写模式打开（打开前文件会被清空）
- 'ab+'：      以二进制读写模式打开

.buffering：设置buffer

- 0：    代表buffer关闭（只适用于二进制模式）
- 1：    代表line buffer（只适用于文本模式）

>1：  表示初始化的buffer大小

.errors：报错级别

- strict：    字符编码出现问题时会报错
- ignore：  字符编码出现问题时程序会忽略而过，继续执行下面的程序

.closefd：

- True：   传入的file参数为文件的文件名
- False：  传入的file参数只能是文件描述符
  Ps：      文件描述符，就是一个非负整数，在Unix内核的系统中，打开一个文件，便会返回一个文件描述符。

**注意：使用open打开文件后一定要记得关闭文件对象**

